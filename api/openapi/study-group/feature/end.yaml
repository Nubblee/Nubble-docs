# 스터디 그룹 종료
Post:
  tags:
    - Study Group API
  summary: 스터디 그룹 종료
  description: |
    스터디 그룹의 상태를 '진행중(ACTIVE)'에서 '종료(ENDED)'로 변경합니다.
    
    - 스터디장만 스터디를 종료할 수 있습니다
    - 이미 종료된 스터디는 다시 종료할 수 없습니다 (409 오류)
    - 종료된 스터디는 아카이브 성격을 띠며, 학습 결과물을 보존하고 참조하는 것에 중점을 둡니다
    - 종료된 스터디는 추후 스터디장이 `reopen` API를 통해 재개할 수 있습니다
    - 종료된 스터디는 다음과 같은 제약이 있습니다:
      - 스터디 정보 수정 불가
      - 새로운 문제 등록 불가
      - 새로운 멤버 가입 불가
      - 새로운 풀이 등록 불가
    - 종료 후에도 다음 기능은 계속 사용 가능합니다:
      - 기존 문제 및 풀이 조회
      - 공지사항 조회 및 작성 (커뮤니케이션 유지 목적)
      - 스터디원 간 소통
  operationId: endStudyGroup
  parameters:
    - name: studyGroupId
      in: path
      required: true
      description: 종료할 스터디 그룹의 고유 식별자
      schema:
        type: string
  requestBody:
    required: true
    content:
      application/vnd.api+json:
        schema:
          $ref: '#/Request'
  responses:
    '200':
      description: 스터디 그룹 종료 성공
      content:
        application/vnd.api+json:
          schema:
            $ref: '../resource.yaml#/Resource'
    '401':
      description: 인증되지 않은 요청
      content:
        application/problem+json:
          schema:
            $ref: '../../error/types.yaml#/UnauthenticatedError'
    '403':
      description: 권한 없음 (스터디장이 아닌 경우)
      content:
        application/problem+json:
          schema:
            $ref: '../../error/types.yaml#/ForbiddenError'
          example:
            type: "about:blank"
            title: "접근 권한 없음"
            status: 403
            detail: "스터디장만 스터디를 종료할 수 있습니다"
    '404':
      description: 스터디 그룹을 찾을 수 없음
      content:
        application/problem+json:
          schema:
            $ref: '../../error/types.yaml#/NotFoundError'
    '409':
      description: 이미 종료된 스터디
      content:
        application/problem+json:
          schema:
              $ref: '../../error/types.yaml#/ConflictError'
          example:
            type: about:blank
            title: 리소스 충돌
            status: 409
            detail: "이미 종료된 스터디입니다"
            conflictField: "status"
            conflictValue: "ENDED"
            resourceType: "study-group"

Request:
  type: object
  properties:
    data:
      type: object
      properties:
        type:
          $ref: '../type.yaml#/Type'
        id:
          $ref: '../attribute.yaml#/StudyGroupId'
      required:
        - type
        - id
      additionalProperties: false
  required:
    - data
  additionalProperties: false
